<!DOCTYPE html>
<html>
  <head>
    <title>provision lab env</title>

    <script>
      function formSubmit() {
        //var data = new FormData();
        //data.append("useremail", document.getElementById("useremail").value);
        //data.append("userop", "Create");
        //data.append("odlconfigname", "test-lab");

        var xhr = new XMLHttpRequest();
        xhr.open(
          "POST",
          "https://f1dcf3d2-d4e7-45f4-ac93-5394986d1fb4.webhook.eus.azure-automation.net/webhooks?token=alY0%2bX8%2fv%2fYrFP65PU0psQrwPoYWsTKIBdQgx9bF5v4%3d",
          false
        );
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhr.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            alert("ok")
            console.log(this.responseText);
          }
        };
        xhr.onload = function () {
          console.log(this.responseText);
        };

        xhr.send("useremail=john@test.com&userop=Create&odlconfigname=test-lab");
      }
    </script>
  </head>

  <body>
    <form id="provision-lab" onsubmit="return formSubmit();">
      <label for="useremail">Please enter your email address</label>
      <input type="email" id="useremail"  name="useremail" value=""/>
      <input type="submit" value="Provison Lab" />
    </form>
  </body>
</html>
